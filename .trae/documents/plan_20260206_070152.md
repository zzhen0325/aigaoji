# 当日盈亏分时折线图重构方案

## 重构目标
1. 将图表组件提取为独立可复用组件，提高代码可维护性
2. 简化图表配置，提高可读性
3. 优化性能和动画效果
4. 改进类型安全性

## 具体步骤

### 1. 创建独立的图表组件
- 新建 `src/components/IntradayProfitChart.tsx` 组件
- 将图表相关逻辑从 Portfolio.tsx 中提取出来
- 定义清晰的 Props 接口

### 2. 组件结构设计
```typescript
interface IntradayProfitChartProps {
  data: { time: string; value: number }[];
  strokeColor: string;
  axisTickColor: string;
  showValues: boolean;
  isLoading?: boolean;
  marketType?: 'A' | 'HK';
}
```

### 3. 优化内容
- 提取渐变和滤镜定义到组件内部
- 简化X轴tick渲染逻辑
- 优化动画效果（脉冲圆点）
- 改进Tooltip格式化逻辑
- 添加空状态处理

### 4. 更新 Portfolio.tsx
- 引入新的 IntradayProfitChart 组件
- 简化图表区域的代码
- 保持现有功能不变

## 预期效果
- 代码更清晰、可维护
- 组件可复用
- 类型安全提升
- 性能优化